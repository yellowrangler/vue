(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66c3f544"],{"212c":function(t,e,n){"use strict";n.r(e);var r=n("7a23"),o=function(t){return Object(r["y"])("data-v-32d3a62a"),t=t(),Object(r["w"])(),t},i={class:"form-control"},a=o((function(){return Object(r["i"])("label",{for:"email"},"E-Mail",-1)})),c={class:"form-control"},u=o((function(){return Object(r["i"])("label",{for:"password"},"Password",-1)})),s={key:0};function d(t,e,n,o,d,l){var b=Object(r["D"])("base-dialog"),f=Object(r["D"])("base-spinner"),p=Object(r["D"])("base-button"),m=Object(r["D"])("base-card");return Object(r["v"])(),Object(r["h"])("div",null,[Object(r["k"])(b,{show:!!d.error,title:"An error occurred",onClose:l.handleError},{default:Object(r["L"])((function(){return[Object(r["i"])("p",null,Object(r["G"])(d.error),1)]})),_:1},8,["show","onClose"]),Object(r["k"])(b,{show:d.isLoading,title:"Authenticating...",fixed:""},{default:Object(r["L"])((function(){return[Object(r["k"])(f)]})),_:1},8,["show"]),Object(r["k"])(m,null,{default:Object(r["L"])((function(){return[Object(r["i"])("form",{onSubmit:e[2]||(e[2]=Object(r["N"])((function(){return l.submitForm&&l.submitForm.apply(l,arguments)}),["prevent"]))},[Object(r["i"])("div",i,[a,Object(r["M"])(Object(r["i"])("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=function(t){return d.email=t})},null,512),[[r["J"],d.email,void 0,{trim:!0}]])]),Object(r["i"])("div",c,[u,Object(r["M"])(Object(r["i"])("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=function(t){return d.password=t})},null,512),[[r["J"],d.password,void 0,{trim:!0}]])]),d.formIsValid?Object(r["g"])("",!0):(Object(r["v"])(),Object(r["h"])("p",s,"Please enter a valid email and password (must be at least 6 characters long).")),Object(r["k"])(p,null,{default:Object(r["L"])((function(){return[Object(r["j"])(Object(r["G"])(l.submitButtonCaption),1)]})),_:1}),Object(r["k"])(p,{type:"button",mode:"flat",onClick:l.switchAuthMode},{default:Object(r["L"])((function(){return[Object(r["j"])(Object(r["G"])(l.switchModeButtonCaption),1)]})),_:1},8,["onClick"])],32)]})),_:1})])}var l=n("1da1"),b=(n("96cf"),n("caad"),n("2532"),n("ac1f"),n("5319"),{data:function(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption:function(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption:function(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{submitForm:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.formIsValid=!0,""!==t.email&&t.email.includes("@")&&!(t.password.length<6)){e.next=4;break}return t.formIsValid=!1,e.abrupt("return");case 4:if(t.isLoading=!0,n={email:t.email,password:t.password},e.prev=6,"login"!==t.mode){e.next=12;break}return e.next=10,t.$store.dispatch("login",n);case 10:e.next=14;break;case 12:return e.next=14,t.$store.dispatch("signup",n);case 14:r="/"+(t.$route.query.redirect||"coaches"),t.$router.replace(r),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](6),t.error=e.t0.message||"Failed to authenticate, try later.";case 21:t.isLoading=!1;case 22:case"end":return e.stop()}}),e,null,[[6,18]])})))()},switchAuthMode:function(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError:function(){this.error=null}}}),f=(n("2cd0"),n("6b0d")),p=n.n(f);const m=p()(b,[["render",d],["__scopeId","data-v-32d3a62a"]]);e["default"]=m},2532:function(t,e,n){"use strict";var r=n("23e7"),o=n("e330"),i=n("5a34"),a=n("1d80"),c=n("577e"),u=n("ab13"),s=o("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~s(c(a(this)),c(i(t)),arguments.length>1?arguments[1]:void 0)}})},"2cd0":function(t,e,n){"use strict";n("d59b")},"44e7":function(t,e,n){var r=n("861d"),o=n("c6b6"),i=n("b622"),a=i("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==o(t))}},"5a34":function(t,e,n){var r=n("da84"),o=n("44e7"),i=r.TypeError;t.exports=function(t){if(o(t))throw i("The method doesn't accept regular expressions");return t}},ab13:function(t,e,n){var r=n("b622"),o=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,"/./"[t](e)}catch(r){}}return!1}},caad:function(t,e,n){"use strict";var r=n("23e7"),o=n("4d64").includes,i=n("44d2");r({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},d59b:function(t,e,n){}}]);
//# sourceMappingURL=chunk-66c3f544.cf1cce7f.js.map