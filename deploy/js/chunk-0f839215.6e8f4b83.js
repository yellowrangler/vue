(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f839215"],{"212c":function(e,t,r){"use strict";r.r(t);var n=r("7a23"),o=function(e){return Object(n["y"])("data-v-0b3df554"),e=e(),Object(n["w"])(),e},i={class:"form-control"},c=o((function(){return Object(n["i"])("label",{for:"email"},"eMail",-1)})),a={class:"form-control"},u=o((function(){return Object(n["i"])("label",{for:"password"},"Password",-1)})),s={key:0};function d(e,t,r,o,d,l){var b=Object(n["D"])("base-dialog"),f=Object(n["D"])("base-spinner"),p=Object(n["D"])("base-button"),m=Object(n["D"])("base-card");return Object(n["v"])(),Object(n["h"])("div",null,[Object(n["k"])(b,{show:!!d.error,title:"An Error Occurred!",fixed:""},{default:Object(n["K"])((function(){return[Object(n["i"])("p",null,Object(n["F"])(d.error),1)]})),_:1},8,["show"]),Object(n["k"])(b,{show:d.isLoading,title:"Authenticating...",fixed:""},{default:Object(n["K"])((function(){return[Object(n["k"])(f)]})),_:1},8,["show"]),Object(n["k"])(m,null,{default:Object(n["K"])((function(){return[Object(n["i"])("form",{onSubmit:t[2]||(t[2]=Object(n["M"])((function(){return l.submitForm&&l.submitForm.apply(l,arguments)}),["prevent"]))},[Object(n["i"])("div",i,[c,Object(n["L"])(Object(n["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return d.email=e})},null,512),[[n["I"],d.email,void 0,{trim:!0}]])]),Object(n["i"])("div",a,[u,Object(n["L"])(Object(n["i"])("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return d.password=e})},null,512),[[n["I"],d.password]])]),d.formIsValid?Object(n["g"])("",!0):(Object(n["v"])(),Object(n["h"])("p",s," Please enter at least 6 character password and your email must include the '@' sign! ")),Object(n["k"])(p,null,{default:Object(n["K"])((function(){return[Object(n["j"])(Object(n["F"])(l.submitButtonCaption),1)]})),_:1}),Object(n["k"])(p,{type:"button",mode:"flat",onClick:l.switchAuthMode},{default:Object(n["K"])((function(){return[Object(n["j"])(Object(n["F"])(l.switchModeButtonCaption),1)]})),_:1},8,["onClick"])],32)]})),_:1})])}var l=r("1da1"),b=(r("96cf"),r("caad"),r("2532"),r("ac1f"),r("5319"),{data:function(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption:function(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption:function(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{submitForm:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.FormIsValid=!0,!(""===e.email||e.email.includes(!1)||e.password.length<6)){t.next=4;break}return e.FormIsValid=!1,t.abrupt("return");case 4:if(e.isLoading=!0,r={email:e.email,password:e.password},t.prev=6,"login"!==e.mode){t.next=12;break}return t.next=10,e.$store.dispatch("login",r);case 10:t.next=14;break;case 12:return t.next=14,e.$store.dispatch("signup",r);case 14:n="/"+(e.$route.query.redirect||"coaches"),console.log("redirectUrl:"+n),e.$router.replace(n),t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](6),e.error=t.t0.message||"Failed to authenticate, try later.",console.log("error in submitform - error:"+e.error);case 23:e.isLoading=!1;case 24:case"end":return t.stop()}}),t,null,[[6,19]])})))()},switchAuthMode:function(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError:function(){this.error=null}}}),f=(r("a277"),r("6b0d")),p=r.n(f);const m=p()(b,[["render",d],["__scopeId","data-v-0b3df554"]]);t["default"]=m},2532:function(e,t,r){"use strict";var n=r("23e7"),o=r("e330"),i=r("5a34"),c=r("1d80"),a=r("577e"),u=r("ab13"),s=o("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~s(a(c(this)),a(i(e)),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,r){var n=r("861d"),o=r("c6b6"),i=r("b622"),c=i("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[c])?!!t:"RegExp"==o(e))}},"5a34":function(e,t,r){var n=r("da84"),o=r("44e7"),i=n.TypeError;e.exports=function(e){if(o(e))throw i("The method doesn't accept regular expressions");return e}},a277:function(e,t,r){"use strict";r("edee")},ab13:function(e,t,r){var n=r("b622"),o=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[o]=!1,"/./"[e](t)}catch(n){}}return!1}},caad:function(e,t,r){"use strict";var n=r("23e7"),o=r("4d64").includes,i=r("44d2");n({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},edee:function(e,t,r){}}]);
//# sourceMappingURL=chunk-0f839215.6e8f4b83.js.map